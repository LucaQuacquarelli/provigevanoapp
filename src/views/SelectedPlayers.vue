<template>
    <div class="d-flex flex-wrap">
        <div class="d-flex col-12 p-2 justify-content-between align-items-center">
            <h3 class="fw-bolder">
                {{ $t('players.availables') }} {{ counterPlayersAvailables }}
            </h3>
        </div>
        <div class="col-12 d-flex justify-content-around flex-wrap">
            <div v-for="player in this.$store.state.all_players_availables" :key="player.id"
                class="col-5 d-flex my-3 justify-content-center">
                <PlayerCard :player="player" />
            </div>
        </div>
        <div class="col-12 d-flex align-items-center flex-wrap mb-4 p-4 bg-dark bg-gradient rounded-4">
            <div class="col-12 d-flex justify-content-around flex-wrap">
                <div v-for="goalkeeper in this.$store.state.all_goal_keepers" :key="goalkeeper.id" class="col-5 d-flex my-3 justify-content-center">
                    <PlayerCard :player="goalkeeper"/>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import PlayerCard from '../components/PlayerCard.vue';
export default {
    name: "SelectedPlayers",
    components: {
    PlayerCard,
},
    data() {
        return {
        }
    },
    computed: {
        counterPlayersAvailables() {
            let counter = 0
            if (Object.keys(this.$store.state.all_players_availables).length != 0 && this.$store.state.all_goal_keepers != undefined) {
                counter = this.$store.state.all_players_availables.length + this.$store.state.all_goal_keepers.length
            }
            return counter
        }
    },
    methods: {
    },
    created() {
        if (Object.keys(this.$store.state.all_players_availables).length === 0 && this.$store.state.all_goal_keepers == undefined){
            this.$router.replace("/choose_players")
        }
    }
}
</script>

<style lang="scss" scoped>
    .rounded {
        border-radius: 30px !important;
        border: 2px solid red;
    }
</style>